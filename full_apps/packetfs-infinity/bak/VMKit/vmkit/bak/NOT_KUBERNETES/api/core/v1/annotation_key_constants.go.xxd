00000000: 2f2a 0a43 6f70 7972 6967 6874 2032 3031  /*.Copyright 201
00000010: 3720 5468 6520 4b75 6265 726e 6574 6573  7 The Kubernetes
00000020: 2041 7574 686f 7273 2e0a 0a4c 6963 656e   Authors...Licen
00000030: 7365 6420 756e 6465 7220 7468 6520 4170  sed under the Ap
00000040: 6163 6865 204c 6963 656e 7365 2c20 5665  ache License, Ve
00000050: 7273 696f 6e20 322e 3020 2874 6865 2022  rsion 2.0 (the "
00000060: 4c69 6365 6e73 6522 293b 0a79 6f75 206d  License");.you m
00000070: 6179 206e 6f74 2075 7365 2074 6869 7320  ay not use this 
00000080: 6669 6c65 2065 7863 6570 7420 696e 2063  file except in c
00000090: 6f6d 706c 6961 6e63 6520 7769 7468 2074  ompliance with t
000000a0: 6865 204c 6963 656e 7365 2e0a 596f 7520  he License..You 
000000b0: 6d61 7920 6f62 7461 696e 2061 2063 6f70  may obtain a cop
000000c0: 7920 6f66 2074 6865 204c 6963 656e 7365  y of the License
000000d0: 2061 740a 0a20 2020 2068 7474 703a 2f2f   at..    http://
000000e0: 7777 772e 6170 6163 6865 2e6f 7267 2f6c  www.apache.org/l
000000f0: 6963 656e 7365 732f 4c49 4345 4e53 452d  icenses/LICENSE-
00000100: 322e 300a 0a55 6e6c 6573 7320 7265 7175  2.0..Unless requ
00000110: 6972 6564 2062 7920 6170 706c 6963 6162  ired by applicab
00000120: 6c65 206c 6177 206f 7220 6167 7265 6564  le law or agreed
00000130: 2074 6f20 696e 2077 7269 7469 6e67 2c20   to in writing, 
00000140: 736f 6674 7761 7265 0a64 6973 7472 6962  software.distrib
00000150: 7574 6564 2075 6e64 6572 2074 6865 204c  uted under the L
00000160: 6963 656e 7365 2069 7320 6469 7374 7269  icense is distri
00000170: 6275 7465 6420 6f6e 2061 6e20 2241 5320  buted on an "AS 
00000180: 4953 2220 4241 5349 532c 0a57 4954 484f  IS" BASIS,.WITHO
00000190: 5554 2057 4152 5241 4e54 4945 5320 4f52  UT WARRANTIES OR
000001a0: 2043 4f4e 4449 5449 4f4e 5320 4f46 2041   CONDITIONS OF A
000001b0: 4e59 204b 494e 442c 2065 6974 6865 7220  NY KIND, either 
000001c0: 6578 7072 6573 7320 6f72 2069 6d70 6c69  express or impli
000001d0: 6564 2e0a 5365 6520 7468 6520 4c69 6365  ed..See the Lice
000001e0: 6e73 6520 666f 7220 7468 6520 7370 6563  nse for the spec
000001f0: 6966 6963 206c 616e 6775 6167 6520 676f  ific language go
00000200: 7665 726e 696e 6720 7065 726d 6973 7369  verning permissi
00000210: 6f6e 7320 616e 640a 6c69 6d69 7461 7469  ons and.limitati
00000220: 6f6e 7320 756e 6465 7220 7468 6520 4c69  ons under the Li
00000230: 6365 6e73 652e 0a2a 2f0a 0a2f 2f20 5468  cense..*/..// Th
00000240: 6973 2066 696c 6520 7368 6f75 6c64 2062  is file should b
00000250: 6520 636f 6e73 6973 7465 6e74 2077 6974  e consistent wit
00000260: 6820 706b 672f 6170 6973 2f63 6f72 652f  h pkg/apis/core/
00000270: 616e 6e6f 7461 7469 6f6e 5f6b 6579 5f63  annotation_key_c
00000280: 6f6e 7374 616e 7473 2e67 6f2e 0a0a 7061  onstants.go...pa
00000290: 636b 6167 6520 7631 0a0a 636f 6e73 7420  ckage v1..const 
000002a0: 280a 092f 2f20 496d 6167 6550 6f6c 6963  (..// ImagePolic
000002b0: 7946 6169 6c65 644f 7065 6e4b 6579 2069  yFailedOpenKey i
000002c0: 7320 6164 6465 6420 746f 2070 6f64 7320  s added to pods 
000002d0: 6372 6561 7465 6420 6279 2066 6169 6c69  created by faili
000002e0: 6e67 206f 7065 6e20 7768 656e 2074 6865  ng open when the
000002f0: 2069 6d61 6765 2070 6f6c 6963 790a 092f   image policy../
00000300: 2f20 7765 6268 6f6f 6b20 6261 636b 656e  / webhook backen
00000310: 6420 6661 696c 732e 0a09 496d 6167 6550  d fails...ImageP
00000320: 6f6c 6963 7946 6169 6c65 644f 7065 6e4b  olicyFailedOpenK
00000330: 6579 2073 7472 696e 6720 3d20 2261 6c70  ey string = "alp
00000340: 6861 2e69 6d61 6765 2d70 6f6c 6963 792e  ha.image-policy.
00000350: 6b38 732e 696f 2f66 6169 6c65 642d 6f70  k8s.io/failed-op
00000360: 656e 220a 0a09 2f2f 204d 6972 726f 7250  en"...// MirrorP
00000370: 6f64 416e 6e6f 7461 7469 6f6e 4b65 7920  odAnnotationKey 
00000380: 7265 7072 6573 656e 7473 2074 6865 2061  represents the a
00000390: 6e6e 6f74 6174 696f 6e20 6b65 7920 7365  nnotation key se
000003a0: 7420 6279 206b 7562 656c 6574 7320 7768  t by kubelets wh
000003b0: 656e 2063 7265 6174 696e 6720 6d69 7272  en creating mirr
000003c0: 6f72 2070 6f64 730a 094d 6972 726f 7250  or pods..MirrorP
000003d0: 6f64 416e 6e6f 7461 7469 6f6e 4b65 7920  odAnnotationKey 
000003e0: 7374 7269 6e67 203d 2022 6b75 6265 726e  string = "kubern
000003f0: 6574 6573 2e69 6f2f 636f 6e66 6967 2e6d  etes.io/config.m
00000400: 6972 726f 7222 0a0a 092f 2f20 546f 6c65  irror"...// Tole
00000410: 7261 7469 6f6e 7341 6e6e 6f74 6174 696f  rationsAnnotatio
00000420: 6e4b 6579 2072 6570 7265 7365 6e74 7320  nKey represents 
00000430: 7468 6520 6b65 7920 6f66 2074 6f6c 6572  the key of toler
00000440: 6174 696f 6e73 2064 6174 6120 286a 736f  ations data (jso
00000450: 6e20 7365 7269 616c 697a 6564 290a 092f  n serialized)../
00000460: 2f20 696e 2074 6865 2041 6e6e 6f74 6174  / in the Annotat
00000470: 696f 6e73 206f 6620 6120 506f 642e 0a09  ions of a Pod...
00000480: 546f 6c65 7261 7469 6f6e 7341 6e6e 6f74  TolerationsAnnot
00000490: 6174 696f 6e4b 6579 2073 7472 696e 6720  ationKey string 
000004a0: 3d20 2273 6368 6564 756c 6572 2e61 6c70  = "scheduler.alp
000004b0: 6861 2e6b 7562 6572 6e65 7465 732e 696f  ha.kubernetes.io
000004c0: 2f74 6f6c 6572 6174 696f 6e73 220a 0a09  /tolerations"...
000004d0: 2f2f 2054 6169 6e74 7341 6e6e 6f74 6174  // TaintsAnnotat
000004e0: 696f 6e4b 6579 2072 6570 7265 7365 6e74  ionKey represent
000004f0: 7320 7468 6520 6b65 7920 6f66 2074 6169  s the key of tai
00000500: 6e74 7320 6461 7461 2028 6a73 6f6e 2073  nts data (json s
00000510: 6572 6961 6c69 7a65 6429 0a09 2f2f 2069  erialized)..// i
00000520: 6e20 7468 6520 416e 6e6f 7461 7469 6f6e  n the Annotation
00000530: 7320 6f66 2061 204e 6f64 652e 0a09 5461  s of a Node...Ta
00000540: 696e 7473 416e 6e6f 7461 7469 6f6e 4b65  intsAnnotationKe
00000550: 7920 7374 7269 6e67 203d 2022 7363 6865  y string = "sche
00000560: 6475 6c65 722e 616c 7068 612e 6b75 6265  duler.alpha.kube
00000570: 726e 6574 6573 2e69 6f2f 7461 696e 7473  rnetes.io/taints
00000580: 220a 0a09 2f2f 2053 6563 636f 6d70 506f  "...// SeccompPo
00000590: 6441 6e6e 6f74 6174 696f 6e4b 6579 2072  dAnnotationKey r
000005a0: 6570 7265 7365 6e74 7320 7468 6520 6b65  epresents the ke
000005b0: 7920 6f66 2061 2073 6563 636f 6d70 2070  y of a seccomp p
000005c0: 726f 6669 6c65 2061 7070 6c69 6564 0a09  rofile applied..
000005d0: 2f2f 2074 6f20 616c 6c20 636f 6e74 6169  // to all contai
000005e0: 6e65 7273 206f 6620 6120 706f 642e 0a09  ners of a pod...
000005f0: 2f2f 2044 6570 7265 6361 7465 643a 2073  // Deprecated: s
00000600: 6574 2061 2070 6f64 2073 6563 7572 6974  et a pod securit
00000610: 7920 636f 6e74 6578 7420 6073 6563 636f  y context `secco
00000620: 6d70 5072 6f66 696c 6560 2066 6965 6c64  mpProfile` field
00000630: 2e0a 0953 6563 636f 6d70 506f 6441 6e6e  ...SeccompPodAnn
00000640: 6f74 6174 696f 6e4b 6579 2073 7472 696e  otationKey strin
00000650: 6720 3d20 2273 6563 636f 6d70 2e73 6563  g = "seccomp.sec
00000660: 7572 6974 792e 616c 7068 612e 6b75 6265  urity.alpha.kube
00000670: 726e 6574 6573 2e69 6f2f 706f 6422 0a0a  rnetes.io/pod"..
00000680: 092f 2f20 5365 6363 6f6d 7043 6f6e 7461  .// SeccompConta
00000690: 696e 6572 416e 6e6f 7461 7469 6f6e 4b65  inerAnnotationKe
000006a0: 7950 7265 6669 7820 7265 7072 6573 656e  yPrefix represen
000006b0: 7473 2074 6865 206b 6579 206f 6620 6120  ts the key of a 
000006c0: 7365 6363 6f6d 7020 7072 6f66 696c 6520  seccomp profile 
000006d0: 6170 706c 6965 640a 092f 2f20 746f 206f  applied..// to o
000006e0: 6e65 2063 6f6e 7461 696e 6572 206f 6620  ne container of 
000006f0: 6120 706f 642e 0a09 2f2f 2044 6570 7265  a pod...// Depre
00000700: 6361 7465 643a 2073 6574 2061 2063 6f6e  cated: set a con
00000710: 7461 696e 6572 2073 6563 7572 6974 7920  tainer security 
00000720: 636f 6e74 6578 7420 6073 6563 636f 6d70  context `seccomp
00000730: 5072 6f66 696c 6560 2066 6965 6c64 2e0a  Profile` field..
00000740: 0953 6563 636f 6d70 436f 6e74 6169 6e65  .SeccompContaine
00000750: 7241 6e6e 6f74 6174 696f 6e4b 6579 5072  rAnnotationKeyPr
00000760: 6566 6978 2073 7472 696e 6720 3d20 2263  efix string = "c
00000770: 6f6e 7461 696e 6572 2e73 6563 636f 6d70  ontainer.seccomp
00000780: 2e73 6563 7572 6974 792e 616c 7068 612e  .security.alpha.
00000790: 6b75 6265 726e 6574 6573 2e69 6f2f 220a  kubernetes.io/".
000007a0: 0a09 2f2f 2053 6563 636f 6d70 5072 6f66  ..// SeccompProf
000007b0: 696c 6552 756e 7469 6d65 4465 6661 756c  ileRuntimeDefaul
000007c0: 7420 7265 7072 6573 656e 7473 2074 6865  t represents the
000007d0: 2064 6566 6175 6c74 2073 6563 636f 6d70   default seccomp
000007e0: 2070 726f 6669 6c65 2075 7365 6420 6279   profile used by
000007f0: 2063 6f6e 7461 696e 6572 2072 756e 7469   container runti
00000800: 6d65 2e0a 092f 2f20 4465 7072 6563 6174  me...// Deprecat
00000810: 6564 3a20 7365 7420 6120 706f 6420 6f72  ed: set a pod or
00000820: 2063 6f6e 7461 696e 6572 2073 6563 7572   container secur
00000830: 6974 7920 636f 6e74 6578 7420 6073 6563  ity context `sec
00000840: 636f 6d70 5072 6f66 696c 6560 206f 6620  compProfile` of 
00000850: 7479 7065 2022 5275 6e74 696d 6544 6566  type "RuntimeDef
00000860: 6175 6c74 2220 696e 7374 6561 642e 0a09  ault" instead...
00000870: 5365 6363 6f6d 7050 726f 6669 6c65 5275  SeccompProfileRu
00000880: 6e74 696d 6544 6566 6175 6c74 2073 7472  ntimeDefault str
00000890: 696e 6720 3d20 2272 756e 7469 6d65 2f64  ing = "runtime/d
000008a0: 6566 6175 6c74 220a 0a09 2f2f 2053 6563  efault"...// Sec
000008b0: 636f 6d70 5072 6f66 696c 654e 616d 6555  compProfileNameU
000008c0: 6e63 6f6e 6669 6e65 6420 6973 2074 6865  nconfined is the
000008d0: 2075 6e63 6f6e 6669 6e65 6420 7365 6363   unconfined secc
000008e0: 6f6d 7020 7072 6f66 696c 652e 0a09 5365  omp profile...Se
000008f0: 6363 6f6d 7050 726f 6669 6c65 4e61 6d65  ccompProfileName
00000900: 556e 636f 6e66 696e 6564 2073 7472 696e  Unconfined strin
00000910: 6720 3d20 2275 6e63 6f6e 6669 6e65 6422  g = "unconfined"
00000920: 0a0a 092f 2f20 5365 6363 6f6d 704c 6f63  ...// SeccompLoc
00000930: 616c 686f 7374 5072 6f66 696c 654e 616d  alhostProfileNam
00000940: 6550 7265 6669 7820 6973 2074 6865 2070  ePrefix is the p
00000950: 7265 6669 7820 666f 7220 7370 6563 6966  refix for specif
00000960: 7969 6e67 2070 726f 6669 6c65 7320 6c6f  ying profiles lo
00000970: 6164 6564 2066 726f 6d20 7468 6520 6e6f  aded from the no
00000980: 6465 2773 2064 6973 6b2e 0a09 5365 6363  de's disk...Secc
00000990: 6f6d 704c 6f63 616c 686f 7374 5072 6f66  ompLocalhostProf
000009a0: 696c 654e 616d 6550 7265 6669 7820 3d20  ileNamePrefix = 
000009b0: 226c 6f63 616c 686f 7374 2f22 0a0a 092f  "localhost/".../
000009c0: 2f20 4465 7072 6563 6174 6564 4170 7041  / DeprecatedAppA
000009d0: 726d 6f72 4265 7461 436f 6e74 6169 6e65  rmorBetaContaine
000009e0: 7241 6e6e 6f74 6174 696f 6e4b 6579 5072  rAnnotationKeyPr
000009f0: 6566 6978 2069 7320 7468 6520 7072 6566  efix is the pref
00000a00: 6978 2074 6f20 616e 2061 6e6e 6f74 6174  ix to an annotat
00000a10: 696f 6e20 6b65 7920 7370 6563 6966 7969  ion key specifyi
00000a20: 6e67 2061 2063 6f6e 7461 696e 6572 2773  ng a container's
00000a30: 2061 7070 6172 6d6f 7220 7072 6f66 696c   apparmor profil
00000a40: 652e 0a09 2f2f 2044 6570 7265 6361 7465  e...// Deprecate
00000a50: 643a 2075 7365 2061 2070 6f64 206f 7220  d: use a pod or 
00000a60: 636f 6e74 6169 6e65 7220 7365 6375 7269  container securi
00000a70: 7479 2063 6f6e 7465 7874 2060 6170 7041  ty context `appA
00000a80: 726d 6f72 5072 6f66 696c 6560 2066 6965  rmorProfile` fie
00000a90: 6c64 2069 6e73 7465 6164 2e0a 0944 6570  ld instead...Dep
00000aa0: 7265 6361 7465 6441 7070 4172 6d6f 7242  recatedAppArmorB
00000ab0: 6574 6143 6f6e 7461 696e 6572 416e 6e6f  etaContainerAnno
00000ac0: 7461 7469 6f6e 4b65 7950 7265 6669 7820  tationKeyPrefix 
00000ad0: 3d20 2263 6f6e 7461 696e 6572 2e61 7070  = "container.app
00000ae0: 6172 6d6f 722e 7365 6375 7269 7479 2e62  armor.security.b
00000af0: 6574 612e 6b75 6265 726e 6574 6573 2e69  eta.kubernetes.i
00000b00: 6f2f 220a 0a09 2f2f 2044 6570 7265 6361  o/"...// Depreca
00000b10: 7465 6441 7070 4172 6d6f 7242 6574 6150  tedAppArmorBetaP
00000b20: 726f 6669 6c65 5275 6e74 696d 6544 6566  rofileRuntimeDef
00000b30: 6175 6c74 2069 7320 7468 6520 7072 6f66  ault is the prof
00000b40: 696c 6520 7370 6563 6966 7969 6e67 2074  ile specifying t
00000b50: 6865 2072 756e 7469 6d65 2064 6566 6175  he runtime defau
00000b60: 6c74 2e0a 0944 6570 7265 6361 7465 6441  lt...DeprecatedA
00000b70: 7070 4172 6d6f 7242 6574 6150 726f 6669  ppArmorBetaProfi
00000b80: 6c65 5275 6e74 696d 6544 6566 6175 6c74  leRuntimeDefault
00000b90: 203d 2022 7275 6e74 696d 652f 6465 6661   = "runtime/defa
00000ba0: 756c 7422 0a0a 092f 2f20 4465 7072 6563  ult"...// Deprec
00000bb0: 6174 6564 4170 7041 726d 6f72 4265 7461  atedAppArmorBeta
00000bc0: 5072 6f66 696c 654e 616d 6550 7265 6669  ProfileNamePrefi
00000bd0: 7820 6973 2074 6865 2070 7265 6669 7820  x is the prefix 
00000be0: 666f 7220 7370 6563 6966 7969 6e67 2070  for specifying p
00000bf0: 726f 6669 6c65 7320 6c6f 6164 6564 206f  rofiles loaded o
00000c00: 6e20 7468 6520 6e6f 6465 2e0a 0944 6570  n the node...Dep
00000c10: 7265 6361 7465 6441 7070 4172 6d6f 7242  recatedAppArmorB
00000c20: 6574 6150 726f 6669 6c65 4e61 6d65 5072  etaProfileNamePr
00000c30: 6566 6978 203d 2022 6c6f 6361 6c68 6f73  efix = "localhos
00000c40: 742f 220a 0a09 2f2f 2044 6570 7265 6361  t/"...// Depreca
00000c50: 7465 6441 7070 4172 6d6f 7242 6574 6150  tedAppArmorBetaP
00000c60: 726f 6669 6c65 4e61 6d65 556e 636f 6e66  rofileNameUnconf
00000c70: 696e 6564 2069 7320 7468 6520 556e 636f  ined is the Unco
00000c80: 6e66 696e 6564 2041 7070 4172 6d6f 7220  nfined AppArmor 
00000c90: 7072 6f66 696c 650a 0944 6570 7265 6361  profile..Depreca
00000ca0: 7465 6441 7070 4172 6d6f 7242 6574 6150  tedAppArmorBetaP
00000cb0: 726f 6669 6c65 4e61 6d65 556e 636f 6e66  rofileNameUnconf
00000cc0: 696e 6564 203d 2022 756e 636f 6e66 696e  ined = "unconfin
00000cd0: 6564 220a 0a09 2f2f 2044 6570 7265 6361  ed"...// Depreca
00000ce0: 7465 6453 6563 636f 6d70 5072 6f66 696c  tedSeccompProfil
00000cf0: 6544 6f63 6b65 7244 6566 6175 6c74 2072  eDockerDefault r
00000d00: 6570 7265 7365 6e74 7320 7468 6520 6465  epresents the de
00000d10: 6661 756c 7420 7365 6363 6f6d 7020 7072  fault seccomp pr
00000d20: 6f66 696c 6520 7573 6564 2062 7920 646f  ofile used by do
00000d30: 636b 6572 2e0a 092f 2f20 4465 7072 6563  cker...// Deprec
00000d40: 6174 6564 3a20 7365 7420 6120 706f 6420  ated: set a pod 
00000d50: 6f72 2063 6f6e 7461 696e 6572 2073 6563  or container sec
00000d60: 7572 6974 7920 636f 6e74 6578 7420 6073  urity context `s
00000d70: 6563 636f 6d70 5072 6f66 696c 6560 206f  eccompProfile` o
00000d80: 6620 7479 7065 2022 5275 6e74 696d 6544  f type "RuntimeD
00000d90: 6566 6175 6c74 2220 696e 7374 6561 642e  efault" instead.
00000da0: 0a09 4465 7072 6563 6174 6564 5365 6363  ..DeprecatedSecc
00000db0: 6f6d 7050 726f 6669 6c65 446f 636b 6572  ompProfileDocker
00000dc0: 4465 6661 756c 7420 7374 7269 6e67 203d  Default string =
00000dd0: 2022 646f 636b 6572 2f64 6566 6175 6c74   "docker/default
00000de0: 220a 0a09 2f2f 2050 7265 6665 7241 766f  "...// PreferAvo
00000df0: 6964 506f 6473 416e 6e6f 7461 7469 6f6e  idPodsAnnotation
00000e00: 4b65 7920 7265 7072 6573 656e 7473 2074  Key represents t
00000e10: 6865 206b 6579 206f 6620 7072 6566 6572  he key of prefer
00000e20: 4176 6f69 6450 6f64 7320 6461 7461 2028  AvoidPods data (
00000e30: 6a73 6f6e 2073 6572 6961 6c69 7a65 6429  json serialized)
00000e40: 0a09 2f2f 2069 6e20 7468 6520 416e 6e6f  ..// in the Anno
00000e50: 7461 7469 6f6e 7320 6f66 2061 204e 6f64  tations of a Nod
00000e60: 652e 0a09 5072 6566 6572 4176 6f69 6450  e...PreferAvoidP
00000e70: 6f64 7341 6e6e 6f74 6174 696f 6e4b 6579  odsAnnotationKey
00000e80: 2073 7472 696e 6720 3d20 2273 6368 6564   string = "sched
00000e90: 756c 6572 2e61 6c70 6861 2e6b 7562 6572  uler.alpha.kuber
00000ea0: 6e65 7465 732e 696f 2f70 7265 6665 7241  netes.io/preferA
00000eb0: 766f 6964 506f 6473 220a 0a09 2f2f 204f  voidPods"...// O
00000ec0: 626a 6563 7454 544c 416e 6e6f 7461 7469  bjectTTLAnnotati
00000ed0: 6f6e 4b65 7920 7265 7072 6573 656e 7473  onKey represents
00000ee0: 2061 2073 7567 6765 7374 696f 6e20 666f   a suggestion fo
00000ef0: 7220 6b75 6265 6c65 7420 666f 7220 686f  r kubelet for ho
00000f00: 7720 6c6f 6e67 2069 7420 6361 6e20 6361  w long it can ca
00000f10: 6368 650a 092f 2f20 616e 206f 626a 6563  che..// an objec
00000f20: 7420 2865 2e67 2e20 7365 6372 6574 2c20  t (e.g. secret, 
00000f30: 636f 6e66 6967 206d 6170 2920 6265 666f  config map) befo
00000f40: 7265 2066 6574 6368 696e 6720 6974 2061  re fetching it a
00000f50: 6761 696e 2066 726f 6d20 6170 6973 6572  gain from apiser
00000f60: 7665 722e 0a09 2f2f 2054 6869 7320 616e  ver...// This an
00000f70: 6e6f 7461 7469 6f6e 2063 616e 2062 6520  notation can be 
00000f80: 6174 7461 6368 6564 2074 6f20 6e6f 6465  attached to node
00000f90: 2e0a 094f 626a 6563 7454 544c 416e 6e6f  ...ObjectTTLAnno
00000fa0: 7461 7469 6f6e 4b65 7920 7374 7269 6e67  tationKey string
00000fb0: 203d 2022 6e6f 6465 2e61 6c70 6861 2e6b   = "node.alpha.k
00000fc0: 7562 6572 6e65 7465 732e 696f 2f74 746c  ubernetes.io/ttl
00000fd0: 220a 0a09 2f2f 204e 6f6e 436f 6e76 6572  "...// NonConver
00000fe0: 7469 626c 6541 6e6e 6f74 6174 696f 6e50  tibleAnnotationP
00000ff0: 7265 6669 7820 6973 2074 6865 2061 6e6e  refix is the ann
00001000: 6f74 6174 696f 6e20 6b65 7920 7072 6566  otation key pref
00001010: 6978 2075 7365 6420 746f 2069 6465 6e74  ix used to ident
00001020: 6966 7920 6e6f 6e2d 636f 6e76 6572 7469  ify non-converti
00001030: 626c 6520 6a73 6f6e 2070 6174 6873 2e0a  ble json paths..
00001040: 094e 6f6e 436f 6e76 6572 7469 626c 6541  .NonConvertibleA
00001050: 6e6e 6f74 6174 696f 6e50 7265 6669 7820  nnotationPrefix 
00001060: 3d20 226e 6f6e 2d63 6f6e 7665 7274 6962  = "non-convertib
00001070: 6c65 2e6b 7562 6572 6e65 7465 732e 696f  le.kubernetes.io
00001080: 220a 0a09 6b75 6265 6374 6c50 7265 6669  "...kubectlPrefi
00001090: 7820 3d20 226b 7562 6563 746c 2e6b 7562  x = "kubectl.kub
000010a0: 6572 6e65 7465 732e 696f 2f22 0a0a 092f  ernetes.io/".../
000010b0: 2f20 4c61 7374 4170 706c 6965 6443 6f6e  / LastAppliedCon
000010c0: 6669 6741 6e6e 6f74 6174 696f 6e20 6973  figAnnotation is
000010d0: 2074 6865 2061 6e6e 6f74 6174 696f 6e20   the annotation 
000010e0: 7573 6564 2074 6f20 7374 6f72 6520 7468  used to store th
000010f0: 6520 7072 6576 696f 7573 0a09 2f2f 2063  e previous..// c
00001100: 6f6e 6669 6775 7261 7469 6f6e 206f 6620  onfiguration of 
00001110: 6120 7265 736f 7572 6365 2066 6f72 2075  a resource for u
00001120: 7365 2069 6e20 6120 7468 7265 6520 7761  se in a three wa
00001130: 7920 6469 6666 2062 7920 5570 6461 7465  y diff by Update
00001140: 4170 706c 7941 6e6e 6f74 6174 696f 6e2e  ApplyAnnotation.
00001150: 0a09 4c61 7374 4170 706c 6965 6443 6f6e  ..LastAppliedCon
00001160: 6669 6741 6e6e 6f74 6174 696f 6e20 3d20  figAnnotation = 
00001170: 6b75 6265 6374 6c50 7265 6669 7820 2b20  kubectlPrefix + 
00001180: 226c 6173 742d 6170 706c 6965 642d 636f  "last-applied-co
00001190: 6e66 6967 7572 6174 696f 6e22 0a0a 092f  nfiguration".../
000011a0: 2f20 416e 6e6f 7461 7469 6f6e 4c6f 6164  / AnnotationLoad
000011b0: 4261 6c61 6e63 6572 536f 7572 6365 5261  BalancerSourceRa
000011c0: 6e67 6573 4b65 7920 6973 2074 6865 206b  ngesKey is the k
000011d0: 6579 206f 6620 7468 6520 616e 6e6f 7461  ey of the annota
000011e0: 7469 6f6e 206f 6e20 6120 7365 7276 6963  tion on a servic
000011f0: 6520 746f 2073 6574 2061 6c6c 6f77 6564  e to set allowed
00001200: 2069 6e67 7265 7373 2072 616e 6765 7320   ingress ranges 
00001210: 6f6e 2074 6865 6972 204c 6f61 6442 616c  on their LoadBal
00001220: 616e 6365 7273 0a09 2f2f 0a09 2f2f 2049  ancers..//..// I
00001230: 7420 7368 6f75 6c64 2062 6520 6120 636f  t should be a co
00001240: 6d6d 612d 7365 7061 7261 7465 6420 6c69  mma-separated li
00001250: 7374 206f 6620 4349 4452 732c 2065 2e67  st of CIDRs, e.g
00001260: 2e20 6030 2e30 2e30 2e30 2f30 6020 746f  . `0.0.0.0/0` to
00001270: 0a09 2f2f 2061 6c6c 6f77 2066 756c 6c20  ..// allow full 
00001280: 6163 6365 7373 2028 7468 6520 6465 6661  access (the defa
00001290: 756c 7429 206f 7220 6031 382e 302e 302e  ult) or `18.0.0.
000012a0: 302f 382c 3536 2e30 2e30 2e30 2f38 6020  0/8,56.0.0.0/8` 
000012b0: 746f 2061 6c6c 6f77 0a09 2f2f 2061 6363  to allow..// acc
000012c0: 6573 7320 6f6e 6c79 2066 726f 6d20 7468  ess only from th
000012d0: 6520 4349 4452 7320 6375 7272 656e 746c  e CIDRs currentl
000012e0: 7920 616c 6c6f 6361 7465 6420 746f 204d  y allocated to M
000012f0: 4954 2026 2074 6865 2055 5350 532e 0a09  IT & the USPS...
00001300: 2f2f 0a09 2f2f 204e 6f74 2061 6c6c 2063  //..// Not all c
00001310: 6c6f 7564 2070 726f 7669 6465 7273 2073  loud providers s
00001320: 7570 706f 7274 2074 6869 7320 616e 6e6f  upport this anno
00001330: 7461 7469 6f6e 2c20 7468 6f75 6768 2041  tation, though A
00001340: 5753 2026 2047 4345 2064 6f2e 0a09 416e  WS & GCE do...An
00001350: 6e6f 7461 7469 6f6e 4c6f 6164 4261 6c61  notationLoadBala
00001360: 6e63 6572 536f 7572 6365 5261 6e67 6573  ncerSourceRanges
00001370: 4b65 7920 3d20 2273 6572 7669 6365 2e62  Key = "service.b
00001380: 6574 612e 6b75 6265 726e 6574 6573 2e69  eta.kubernetes.i
00001390: 6f2f 6c6f 6164 2d62 616c 616e 6365 722d  o/load-balancer-
000013a0: 736f 7572 6365 2d72 616e 6765 7322 0a0a  source-ranges"..
000013b0: 092f 2f20 456e 6470 6f69 6e74 734c 6173  .// EndpointsLas
000013c0: 7443 6861 6e67 6554 7269 6767 6572 5469  tChangeTriggerTi
000013d0: 6d65 2069 7320 7468 6520 616e 6e6f 7461  me is the annota
000013e0: 7469 6f6e 206b 6579 2c20 7365 7420 666f  tion key, set fo
000013f0: 7220 656e 6470 6f69 6e74 7320 6f62 6a65  r endpoints obje
00001400: 6374 732c 2074 6861 740a 092f 2f20 7265  cts, that..// re
00001410: 7072 6573 656e 7473 2074 6865 2074 696d  presents the tim
00001420: 6573 7461 6d70 2028 7374 6f72 6564 2061  estamp (stored a
00001430: 7320 5246 4320 3333 3339 2064 6174 652d  s RFC 3339 date-
00001440: 7469 6d65 2073 7472 696e 672c 2065 2e67  time string, e.g
00001450: 2e20 2732 3031 382d 3130 2d32 3254 3139  . '2018-10-22T19
00001460: 3a33 323a 3532 2e31 5a27 290a 092f 2f20  :32:52.1Z')..// 
00001470: 6f66 2074 6865 206c 6173 7420 6368 616e  of the last chan
00001480: 6765 2c20 6f66 2073 6f6d 6520 506f 6420  ge, of some Pod 
00001490: 6f72 2053 6572 7669 6365 206f 626a 6563  or Service objec
000014a0: 742c 2074 6861 7420 7472 6967 6765 7265  t, that triggere
000014b0: 6420 7468 6520 656e 6470 6f69 6e74 7320  d the endpoints 
000014c0: 6f62 6a65 6374 2063 6861 6e67 652e 0a09  object change...
000014d0: 2f2f 2049 6e20 6f74 6865 7220 776f 7264  // In other word
000014e0: 732c 2069 6620 6120 506f 6420 2f20 5365  s, if a Pod / Se
000014f0: 7276 6963 6520 6368 616e 6765 6420 6174  rvice changed at
00001500: 2074 696d 6520 5430 2c20 7468 6174 2063   time T0, that c
00001510: 6861 6e67 6520 7761 7320 6f62 7365 7276  hange was observ
00001520: 6564 2062 7920 656e 6470 6f69 6e74 730a  ed by endpoints.
00001530: 092f 2f20 636f 6e74 726f 6c6c 6572 2061  .// controller a
00001540: 7420 5431 2c20 616e 6420 7468 6520 456e  t T1, and the En
00001550: 6470 6f69 6e74 7320 6f62 6a65 6374 2077  dpoints object w
00001560: 6173 2063 6861 6e67 6564 2061 7420 5432  as changed at T2
00001570: 2c20 7468 650a 092f 2f20 456e 6470 6f69  , the..// Endpoi
00001580: 6e74 734c 6173 7443 6861 6e67 6554 7269  ntsLastChangeTri
00001590: 6767 6572 5469 6d65 2077 6f75 6c64 2062  ggerTime would b
000015a0: 6520 7365 7420 746f 2054 302e 0a09 2f2f  e set to T0...//
000015b0: 0a09 2f2f 2054 6865 2022 656e 6470 6f69  ..// The "endpoi
000015c0: 6e74 7320 6368 616e 6765 2074 7269 6767  nts change trigg
000015d0: 6572 2220 6865 7265 206d 6561 6e73 2061  er" here means a
000015e0: 6e79 2050 6f64 206f 7220 5365 7276 6963  ny Pod or Servic
000015f0: 6520 6368 616e 6765 2074 6861 7420 7265  e change that re
00001600: 7375 6c74 6564 2069 6e20 7468 650a 092f  sulted in the../
00001610: 2f20 456e 6470 6f69 6e74 7320 6f62 6a65  / Endpoints obje
00001620: 6374 2063 6861 6e67 652e 0a09 2f2f 0a09  ct change...//..
00001630: 2f2f 2047 6976 656e 2074 6865 2064 6566  // Given the def
00001640: 696e 6974 696f 6e20 6f66 2074 6865 2022  inition of the "
00001650: 656e 6470 6f69 6e74 7320 6368 616e 6765  endpoints change
00001660: 2074 7269 6767 6572 222c 2070 6c65 6173   trigger", pleas
00001670: 6520 6e6f 7465 2074 6861 7420 7468 6973  e note that this
00001680: 2061 6e6e 6f74 6174 696f 6e20 7769 6c6c   annotation will
00001690: 0a09 2f2f 2062 6520 7365 7420 4f4e 4c59  ..// be set ONLY
000016a0: 2066 6f72 2065 6e64 706f 696e 7473 206f   for endpoints o
000016b0: 626a 6563 7420 6368 616e 6765 7320 7472  bject changes tr
000016c0: 6967 6765 7265 6420 6279 2065 6974 6865  iggered by eithe
000016d0: 7220 506f 6420 6f72 2053 6572 7669 6365  r Pod or Service
000016e0: 2063 6861 6e67 652e 2049 6620 7468 650a   change. If the.
000016f0: 092f 2f20 456e 6470 6f69 6e74 7320 6f62  .// Endpoints ob
00001700: 6a65 6374 2063 6861 6e67 6573 2064 7565  ject changes due
00001710: 2074 6f20 6f74 6865 7220 7265 6173 6f6e   to other reason
00001720: 732c 2074 6869 7320 616e 6e6f 7461 7469  s, this annotati
00001730: 6f6e 2077 6f6e 2774 2062 6520 7365 7420  on won't be set 
00001740: 286f 7220 7570 6461 7465 6420 6966 2069  (or updated if i
00001750: 7427 730a 092f 2f20 616c 7265 6164 7920  t's..// already 
00001760: 7365 7429 2e0a 092f 2f0a 092f 2f20 5468  set)...//..// Th
00001770: 6973 2061 6e6e 6f74 6174 696f 6e20 7769  is annotation wi
00001780: 6c6c 2062 6520 7573 6564 2074 6f20 636f  ll be used to co
00001790: 6d70 7574 6520 7468 6520 696e 2d63 6c75  mpute the in-clu
000017a0: 7374 6572 206e 6574 776f 726b 2070 726f  ster network pro
000017b0: 6772 616d 6d69 6e67 206c 6174 656e 6379  gramming latency
000017c0: 2053 4c49 2c20 7365 650a 092f 2f20 6874   SLI, see..// ht
000017d0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
000017e0: 2f6b 7562 6572 6e65 7465 732f 636f 6d6d  /kubernetes/comm
000017f0: 756e 6974 792f 626c 6f62 2f6d 6173 7465  unity/blob/maste
00001800: 722f 7369 672d 7363 616c 6162 696c 6974  r/sig-scalabilit
00001810: 792f 736c 6f73 2f6e 6574 776f 726b 5f70  y/slos/network_p
00001820: 726f 6772 616d 6d69 6e67 5f6c 6174 656e  rogramming_laten
00001830: 6379 2e6d 640a 0945 6e64 706f 696e 7473  cy.md..Endpoints
00001840: 4c61 7374 4368 616e 6765 5472 6967 6765  LastChangeTrigge
00001850: 7254 696d 6520 3d20 2265 6e64 706f 696e  rTime = "endpoin
00001860: 7473 2e6b 7562 6572 6e65 7465 732e 696f  ts.kubernetes.io
00001870: 2f6c 6173 742d 6368 616e 6765 2d74 7269  /last-change-tri
00001880: 6767 6572 2d74 696d 6522 0a0a 092f 2f20  gger-time"...// 
00001890: 456e 6470 6f69 6e74 734f 7665 7243 6170  EndpointsOverCap
000018a0: 6163 6974 7920 7769 6c6c 2062 6520 7365  acity will be se
000018b0: 7420 6f6e 2061 6e20 456e 6470 6f69 6e74  t on an Endpoint
000018c0: 7320 7265 736f 7572 6365 2077 6865 6e20  s resource when 
000018d0: 6974 0a09 2f2f 2065 7863 6565 6473 2074  it..// exceeds t
000018e0: 6865 206d 6178 696d 756d 2063 6170 6163  he maximum capac
000018f0: 6974 7920 6f66 2031 3030 3020 6164 6472  ity of 1000 addr
00001900: 6573 7365 732e 2049 6e69 7469 616c 6c79  esses. Initially
00001910: 2074 6865 2045 6e64 706f 696e 7473 0a09   the Endpoints..
00001920: 2f2f 2063 6f6e 7472 6f6c 6c65 7220 7769  // controller wi
00001930: 6c6c 2073 6574 2074 6869 7320 616e 6e6f  ll set this anno
00001940: 7461 7469 6f6e 2077 6974 6820 6120 7661  tation with a va
00001950: 6c75 6520 6f66 2022 7761 726e 696e 6722  lue of "warning"
00001960: 2e20 496e 2061 0a09 2f2f 2066 7574 7572  . In a..// futur
00001970: 6520 7265 6c65 6173 652c 2074 6865 2063  e release, the c
00001980: 6f6e 7472 6f6c 6c65 7220 6d61 7920 7365  ontroller may se
00001990: 7420 7468 6973 2061 6e6e 6f74 6174 696f  t this annotatio
000019a0: 6e20 7769 7468 2061 2076 616c 7565 206f  n with a value o
000019b0: 660a 092f 2f20 2274 7275 6e63 6174 6564  f..// "truncated
000019c0: 2220 746f 2069 6e64 6963 6174 6520 7468  " to indicate th
000019d0: 6174 2061 6e79 2061 6464 7265 7373 6573  at any addresses
000019e0: 2065 7863 6565 6469 6e67 2074 6865 206c   exceeding the l
000019f0: 696d 6974 206f 6620 3130 3030 0a09 2f2f  imit of 1000..//
00001a00: 2068 6176 6520 6265 656e 2074 7275 6e63   have been trunc
00001a10: 6174 6564 2066 726f 6d20 7468 6520 456e  ated from the En
00001a20: 6470 6f69 6e74 7320 7265 736f 7572 6365  dpoints resource
00001a30: 2e0a 0945 6e64 706f 696e 7473 4f76 6572  ...EndpointsOver
00001a40: 4361 7061 6369 7479 203d 2022 656e 6470  Capacity = "endp
00001a50: 6f69 6e74 732e 6b75 6265 726e 6574 6573  oints.kubernetes
00001a60: 2e69 6f2f 6f76 6572 2d63 6170 6163 6974  .io/over-capacit
00001a70: 7922 0a0a 092f 2f20 4d69 6772 6174 6564  y"...// Migrated
00001a80: 506c 7567 696e 7341 6e6e 6f74 6174 696f  PluginsAnnotatio
00001a90: 6e4b 6579 2069 7320 7468 6520 616e 6e6f  nKey is the anno
00001aa0: 7461 7469 6f6e 206b 6579 2c20 7365 7420  tation key, set 
00001ab0: 666f 7220 4353 494e 6f64 6520 6f62 6a65  for CSINode obje
00001ac0: 6374 732c 2074 6861 7420 6973 2061 2063  cts, that is a c
00001ad0: 6f6d 6d61 2d73 6570 6172 6174 6564 0a09  omma-separated..
00001ae0: 2f2f 206c 6973 7420 6f66 2069 6e2d 7472  // list of in-tr
00001af0: 6565 2070 6c75 6769 6e73 2074 6861 7420  ee plugins that 
00001b00: 7769 6c6c 2062 6520 7365 7276 6963 6564  will be serviced
00001b10: 2062 7920 7468 6520 4353 4920 6261 636b   by the CSI back
00001b20: 656e 6420 6f6e 2074 6865 204e 6f64 6520  end on the Node 
00001b30: 7265 7072 6573 656e 7465 6420 6279 2043  represented by C
00001b40: 5349 4e6f 6465 2e0a 092f 2f20 5468 6973  SINode...// This
00001b50: 2061 6e6e 6f74 6174 696f 6e20 6973 2075   annotation is u
00001b60: 7365 6420 6279 2074 6865 2041 7474 6163  sed by the Attac
00001b70: 6820 4465 7461 6368 2043 6f6e 7472 6f6c  h Detach Control
00001b80: 6c65 7220 746f 2064 6574 6572 6d69 6e65  ler to determine
00001b90: 2077 6865 7468 6572 2074 6f20 7573 6520   whether to use 
00001ba0: 7468 6520 696e 2d74 7265 6520 6f72 0a09  the in-tree or..
00001bb0: 2f2f 2043 5349 2042 6163 6b65 6e64 2066  // CSI Backend f
00001bc0: 6f72 2061 2076 6f6c 756d 6520 706c 7567  or a volume plug
00001bd0: 696e 206f 6e20 6120 7370 6563 6966 6963  in on a specific
00001be0: 206e 6f64 652e 0a09 4d69 6772 6174 6564   node...Migrated
00001bf0: 506c 7567 696e 7341 6e6e 6f74 6174 696f  PluginsAnnotatio
00001c00: 6e4b 6579 203d 2022 7374 6f72 6167 652e  nKey = "storage.
00001c10: 616c 7068 612e 6b75 6265 726e 6574 6573  alpha.kubernetes
00001c20: 2e69 6f2f 6d69 6772 6174 6564 2d70 6c75  .io/migrated-plu
00001c30: 6769 6e73 220a 0a09 2f2f 2050 6f64 4465  gins"...// PodDe
00001c40: 6c65 7469 6f6e 436f 7374 2063 616e 2062  letionCost can b
00001c50: 6520 7573 6564 2074 6f20 7365 7420 746f  e used to set to
00001c60: 2061 6e20 696e 7433 3220 7468 6174 2072   an int32 that r
00001c70: 6570 7265 7365 6e74 2074 6865 2063 6f73  epresent the cos
00001c80: 7420 6f66 2064 656c 6574 696e 670a 092f  t of deleting../
00001c90: 2f20 6120 706f 6420 636f 6d70 6172 6564  / a pod compared
00001ca0: 2074 6f20 6f74 6865 7220 706f 6473 2062   to other pods b
00001cb0: 656c 6f6e 6769 6e67 2074 6f20 7468 6520  elonging to the 
00001cc0: 7361 6d65 2052 6570 6c69 6361 5365 742e  same ReplicaSet.
00001cd0: 2050 6f64 7320 7769 7468 206c 6f77 6572   Pods with lower
00001ce0: 0a09 2f2f 2064 656c 6574 696f 6e20 636f  ..// deletion co
00001cf0: 7374 2061 7265 2070 7265 6665 7272 6564  st are preferred
00001d00: 2074 6f20 6265 2064 656c 6574 6564 2062   to be deleted b
00001d10: 6566 6f72 6520 706f 6473 2077 6974 6820  efore pods with 
00001d20: 6869 6768 6572 2064 656c 6574 696f 6e20  higher deletion 
00001d30: 636f 7374 2e0a 092f 2f20 4e6f 7465 2074  cost...// Note t
00001d40: 6861 7420 7468 6973 2069 7320 686f 6e6f  hat this is hono
00001d50: 7265 6420 6f6e 2061 2062 6573 742d 6566  red on a best-ef
00001d60: 666f 7274 2062 6173 6973 2c20 616e 6420  fort basis, and 
00001d70: 736f 2069 7420 646f 6573 206e 6f74 206f  so it does not o
00001d80: 6666 6572 2067 7561 7261 6e74 6565 7320  ffer guarantees 
00001d90: 6f6e 0a09 2f2f 2070 6f64 2064 656c 6574  on..// pod delet
00001da0: 696f 6e20 6f72 6465 722e 0a09 2f2f 2054  ion order...// T
00001db0: 6865 2069 6d70 6c69 6369 7420 6465 6c65  he implicit dele
00001dc0: 7469 6f6e 2063 6f73 7420 666f 7220 706f  tion cost for po
00001dd0: 6473 2074 6861 7420 646f 6e27 7420 7365  ds that don't se
00001de0: 7420 7468 6520 616e 6e6f 7461 7469 6f6e  t the annotation
00001df0: 2069 7320 302c 206e 6567 6174 6976 6520   is 0, negative 
00001e00: 7661 6c75 6573 2061 7265 2070 6572 6d69  values are permi
00001e10: 7474 6564 2e0a 092f 2f0a 092f 2f20 5468  tted...//..// Th
00001e20: 6973 2061 6e6e 6f74 6174 696f 6e20 6973  is annotation is
00001e30: 2062 6574 612d 6c65 7665 6c20 616e 6420   beta-level and 
00001e40: 6973 206f 6e6c 7920 686f 6e6f 7265 6420  is only honored 
00001e50: 7768 656e 2050 6f64 4465 6c65 7469 6f6e  when PodDeletion
00001e60: 436f 7374 2066 6561 7475 7265 2069 7320  Cost feature is 
00001e70: 656e 6162 6c65 642e 0a09 506f 6444 656c  enabled...PodDel
00001e80: 6574 696f 6e43 6f73 7420 3d20 2263 6f6e  etionCost = "con
00001e90: 7472 6f6c 6c65 722e 6b75 6265 726e 6574  troller.kubernet
00001ea0: 6573 2e69 6f2f 706f 642d 6465 6c65 7469  es.io/pod-deleti
00001eb0: 6f6e 2d63 6f73 7422 0a0a 092f 2f20 4465  on-cost"...// De
00001ec0: 7072 6563 6174 6564 416e 6e6f 7461 7469  precatedAnnotati
00001ed0: 6f6e 546f 706f 6c6f 6779 4177 6172 6548  onTopologyAwareH
00001ee0: 696e 7473 2063 616e 2062 6520 7573 6564  ints can be used
00001ef0: 2074 6f20 656e 6162 6c65 206f 7220 6469   to enable or di
00001f00: 7361 626c 650a 092f 2f20 546f 706f 6c6f  sable..// Topolo
00001f10: 6779 2041 7761 7265 2048 696e 7473 2066  gy Aware Hints f
00001f20: 6f72 2061 2053 6572 7669 6365 2e20 5468  or a Service. Th
00001f30: 6973 206d 6179 2062 6520 7365 7420 746f  is may be set to
00001f40: 2022 4175 746f 2220 6f72 0a09 2f2f 2022   "Auto" or..// "
00001f50: 4469 7361 626c 6564 222e 2041 6e79 206f  Disabled". Any o
00001f60: 7468 6572 2076 616c 7565 2069 7320 7472  ther value is tr
00001f70: 6561 7465 6420 6173 2022 4469 7361 626c  eated as "Disabl
00001f80: 6564 222e 2054 6869 7320 616e 6e6f 7461  ed". This annota
00001f90: 7469 6f6e 2068 6173 0a09 2f2f 2062 6565  tion has..// bee
00001fa0: 6e20 6465 7072 6563 6174 6564 2069 6e20  n deprecated in 
00001fb0: 6661 766f 7220 6f66 2074 6865 2022 7365  favor of the "se
00001fc0: 7276 6963 652e 6b75 6265 726e 6574 6573  rvice.kubernetes
00001fd0: 2e69 6f2f 746f 706f 6c6f 6779 2d6d 6f64  .io/topology-mod
00001fe0: 6522 0a09 2f2f 2061 6e6e 6f74 6174 696f  e"..// annotatio
00001ff0: 6e2e 0a09 4465 7072 6563 6174 6564 416e  n...DeprecatedAn
00002000: 6e6f 7461 7469 6f6e 546f 706f 6c6f 6779  notationTopology
00002010: 4177 6172 6548 696e 7473 203d 2022 7365  AwareHints = "se
00002020: 7276 6963 652e 6b75 6265 726e 6574 6573  rvice.kubernetes
00002030: 2e69 6f2f 746f 706f 6c6f 6779 2d61 7761  .io/topology-awa
00002040: 7265 2d68 696e 7473 220a 0a09 2f2f 2041  re-hints"...// A
00002050: 6e6e 6f74 6174 696f 6e54 6f70 6f6c 6f67  nnotationTopolog
00002060: 794d 6f64 6520 6361 6e20 6265 2075 7365  yMode can be use
00002070: 6420 746f 2065 6e61 626c 6520 6f72 2064  d to enable or d
00002080: 6973 6162 6c65 2054 6f70 6f6c 6f67 7920  isable Topology 
00002090: 4177 6172 650a 092f 2f20 526f 7574 696e  Aware..// Routin
000020a0: 6720 666f 7220 6120 5365 7276 6963 652e  g for a Service.
000020b0: 2057 656c 6c20 6b6e 6f77 6e20 7661 6c75   Well known valu
000020c0: 6573 2061 7265 2022 4175 746f 2220 616e  es are "Auto" an
000020d0: 6420 2244 6973 6162 6c65 6422 2e0a 092f  d "Disabled".../
000020e0: 2f20 496d 706c 656d 656e 7461 7469 6f6e  / Implementation
000020f0: 7320 6d61 7920 6368 6f6f 7365 2074 6f20  s may choose to 
00002100: 6465 7665 6c6f 7020 6e65 7720 746f 706f  develop new topo
00002110: 6c6f 6779 2061 7070 726f 6163 6865 732c  logy approaches,
00002120: 2065 7870 6f73 696e 670a 092f 2f20 7468   exposing..// th
00002130: 656d 2077 6974 6820 646f 6d61 696e 2d70  em with domain-p
00002140: 7265 6669 7865 6420 7661 6c75 6573 2e20  refixed values. 
00002150: 466f 7220 6578 616d 706c 652c 2022 6578  For example, "ex
00002160: 616d 706c 652e 636f 6d2f 6c6f 7765 7374  ample.com/lowest
00002170: 2d72 7474 220a 092f 2f20 636f 756c 6420  -rtt"..// could 
00002180: 6265 2061 2076 616c 6964 2069 6d70 6c65  be a valid imple
00002190: 6d65 6e74 6174 696f 6e2d 7370 6563 6966  mentation-specif
000021a0: 6963 2076 616c 7565 2066 6f72 2074 6869  ic value for thi
000021b0: 7320 616e 6e6f 7461 7469 6f6e 2e20 5468  s annotation. Th
000021c0: 6573 650a 092f 2f20 6865 7572 6973 7469  ese..// heuristi
000021d0: 6373 2077 696c 6c20 6f66 7465 6e20 706f  cs will often po
000021e0: 7075 6c61 7465 2074 6f70 6f6c 6f67 7920  pulate topology 
000021f0: 6869 6e74 7320 6f6e 2045 6e64 706f 696e  hints on Endpoin
00002200: 7453 6c69 6365 732c 2062 7574 2074 6861  tSlices, but tha
00002210: 740a 092f 2f20 6973 206e 6f74 2061 2072  t..// is not a r
00002220: 6571 7569 7265 6d65 6e74 2e0a 0941 6e6e  equirement...Ann
00002230: 6f74 6174 696f 6e54 6f70 6f6c 6f67 794d  otationTopologyM
00002240: 6f64 6520 3d20 2273 6572 7669 6365 2e6b  ode = "service.k
00002250: 7562 6572 6e65 7465 732e 696f 2f74 6f70  ubernetes.io/top
00002260: 6f6c 6f67 792d 6d6f 6465 220a 290a       ology-mode".).
