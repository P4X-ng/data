<!doctype html><html lang=en><head><meta charset=utf-8><title>PFS Simple Terminal</title><meta name=viewport content="width=device-width,initial-scale=1"><style>body{margin:0;font-family:system-ui,Arial,sans-serif;background:#07111d;color:#dbe3ec;display:flex;flex-direction:column;height:100vh}header{background:#0e2036;padding:.55rem .9rem;font-size:.85rem;letter-spacing:.5px;display:flex;align-items:center;gap:.6rem;font-weight:600;color:#8ecbff}header .dot{width:10px;height:10px;border-radius:50%;background:#ff5f56;box-shadow:18px 0 0 #ffbd2e,36px 0 0 #27c93f}main{flex:1;display:flex;flex-direction:row;overflow:hidden}aside{width:230px;max-width:230px;background:#0c1b2e;border-right:1px solid #132b46;padding:.75rem;display:flex;flex-direction:column;gap:.65rem}aside h1{margin:0;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;font-weight:700;color:#6fbaff}label{font-size:.6rem;text-transform:uppercase;opacity:.7;margin-bottom:.15rem;display:block}input{width:100%;padding:.4rem .5rem;background:#091423;border:1px solid #19324d;border-radius:5px;color:#dbe3ec;font-size:.7rem;font-family:monospace}input:focus{outline:1px solid #319bff;border-color:#319bff}button{background:#319bff;border:none;color:#021524;padding:.45rem .7rem;border-radius:5px;font-size:.65rem;letter-spacing:.5px;font-weight:600;cursor:pointer}button.secondary{background:#132b46;color:#dbe3ec}button:disabled{opacity:.4;cursor:not-allowed}#log{flex:1;overflow:auto;font-size:.55rem;line-height:.9rem;background:#091423;border:1px solid #132b46;border-radius:4px;padding:.4rem;font-family:var(--mono,monospace)}#termwrap{flex:1;display:flex;flex-direction:column;padding:.75rem}#term{flex:1;background:#000;color:#d2d2d2;font-family:monospace;font-size:13px;line-height:1.1rem;padding:.5rem;overflow:auto;white-space:pre-wrap;word-wrap:break-word;border:1px solid #132b46;border-radius:6px}#inputbar{display:flex;gap:.4rem;margin-top:.5rem}#inputbar input{flex:1}footer{padding:.35rem .7rem;font-size:.55rem;text-align:right;background:#061320;color:#567}
.status{display:flex;gap:.4rem;flex-wrap:wrap;margin-top:.3rem}.pill{padding:.15rem .45rem;background:#132b46;border-radius:999px;font-size:.5rem;letter-spacing:.5px}.ok{background:#104225;color:#6ff79a}.err{background:#4a1d21;color:#ff9fa5}.warn{background:#443411;color:#ffd479}</style></head><body><header><div class=dot></div><span>PFS Simple Terminal</span><span id=wsPill class=pill style=background:#132b46>WS: idle</span><span id=sshPill class=pill style=background:#132b46>SSH: idle</span></header><main><aside><h1>Connect</h1><div><label>Host</label><input id=host value="127.0.0.1"></div><div><label>User</label><input id=user value=root></div><div><label>Port</label><input id=port value=22></div><div><label>Password</label><input id=pass type=password></div><div style=display:flex;gap:.4rem><button id=btnConnect>Connect</button><button id=btnDisc class=secondary disabled>Close</button></div><h1>Logs</h1><div id=log></div></aside><div id=termwrap><div id=term tabindex=0></div><div id=inputbar><input id=cmd placeholder="Type command & Enter" disabled><button id=send disabled>Send</button></div></div></main><footer>WS endpoint: <code>/ws/terminal</code> • Press Esc to toggle focus • Experimental</footer><script>(()=>{const $=id=>document.getElementById(id);const log=m=>{const d=new Date().toISOString().split('T')[1].replace('Z','');$('log').innerHTML+=`<div>[${d}] ${m}</div>`;$('log').scrollTop=$('log').scrollHeight};const setPill=(el,state,color)=>{el.textContent=state;el.style.background=color};let ws=null;let ready=false;function connect(){if(ws&&ws.readyState===1){sendConnect();return;}const proto=location.protocol==='https:'?'wss':'ws';ws=new WebSocket(`${proto}://${location.host}/ws/terminal`);setPill(wsPill,'WS: connecting','#444');ws.binaryType='arraybuffer';ws.onopen=()=>{setPill(wsPill,'WS: open','#104225');log('WebSocket open');sendConnect();};ws.onclose=()=>{setPill(wsPill,'WS: closed','#4a1d21');setPill(sshPill,'SSH: idle','#132b46');toggle(false);};ws.onerror=()=>{log('WebSocket error');setPill(wsPill,'WS: error','#4a1d21');};ws.onmessage=ev=>{if(typeof ev.data==='string'){try{const msg=JSON.parse(ev.data);if(msg.type==='host_key'){log('Host FP: '+msg.fingerprint);}else if(msg.type==='connected'){setPill(sshPill,'SSH: connected','#104225');log(msg.message);}else if(msg.type==='error'){setPill(sshPill,'SSH: error','#4a1d21');log('Error: '+msg.message);}}catch(e){append(ev.data);}}else{append(new TextDecoder().decode(ev.data));}};}function sendConnect(){const host=$('host').value.trim();const user=$('user').value.trim()||'root';const port=parseInt(($('port').value||'22'),10)||22;const password=$('pass').value||undefined;ws.send(JSON.stringify({type:'connect',host,user,port,password}));toggle(true);setPill(sshPill,'SSH: connecting','#443411');log(`Connecting ${user}@${host}:${port}`);}function toggle(active){$('btnConnect').disabled=active;$('btnDisc').disabled=!active;$('cmd').disabled=!active;$('send').disabled=!active;}function append(t){const term=$('term');term.textContent+=t;term.scrollTop=term.scrollHeight;}function disconnect(){if(ws){try{ws.send(JSON.stringify({type:'disconnect'}));}catch{}ws.close();}}function send(){const v=$('cmd').value;if(!v)return;ws.send(JSON.stringify({type:'input',data:v+'\n'}));$('cmd').value='';}$('btnConnect').onclick=connect;$('btnDisc').onclick=disconnect;$('send').onclick=send;$('cmd').addEventListener('keydown',e=>{if(e.key==='Enter')send();});document.addEventListener('keydown',e=>{if(e.key==='Escape'){if(document.activeElement===$('cmd'))$('term').focus();else $('cmd').focus();}});})();</script></body></html>