"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[5184],{342:function(t,e,s){s.r(e),s.d(e,{default:function(){return T}});var n=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("top-bar",{attrs:{dark:"","test-parent-name":"token_overview",title:t.name},scopedSlots:t._u([t.watchlistToken?{key:"action",fn:function(){return[e("div",{staticClass:"cursor-pointer flex-grow-0 ml-10 mr-1 text-brand-primary w-6",class:t.watchlistIcon,on:{click:t.toggleTokenOnWatchList}})]},proxy:!0}:null],null,!0)}),e("div",{staticClass:"flex flex-col items-center px-14 text-center"},[e("token-icon",{staticClass:"h-16 mb-4 mt-3.5 rounded-full w-16",attrs:{address:t.address,chain:t.chain,"non-verified-token-icon-classes":"-left-4 h-8 top-4 w-8",type:t.type}}),e("div",{staticClass:"font-semibold text-2xl text-white tracking-wide truncate w-full"},[e("div",{staticClass:"flex justify-center"},[e("div",{staticClass:"max-w-60 pr-2 truncate",attrs:{title:t.balance}},[t._v(" "+t._s(t.balance)+" ")]),e("div",{staticClass:"max-w-[7ch] min-w-6 text-dark-N77 truncate",attrs:{title:t.symbol}},[t._v(" "+t._s(t.symbol)+" ")])])]),t.fiatBalance?e("div",{staticClass:"font-light text-base text-dark-N77 truncate w-full"},[t._v(" "+t._s(t.fiatBalance)+" ")]):t._e(),e("div",{staticClass:"w-full"},[t.token?e("asset-action-row",{attrs:{address:t.address,token:t.token}}):t._e()],1)],1)],1),e("div",{staticClass:"pb-6 px-14"},[e("switching-tabs",{on:{selected:t.tabSelected}},[t.tokenPriceInfo?e("switching-tab",{attrs:{title:t.$t("general.overview")}},[e("price-overview",{attrs:{address:t.address,"price-info":t.tokenPriceInfo,symbol:t.symbol.toLowerCase()}})],1):t._e(),e("switching-tab",{attrs:{title:t.$t("general.activity")}},[t.token?e("activity-box",{attrs:{activities:t.transactions,token:t.token}}):t._e()],1)],1)],1)])},i=[],a=(s(57658),s(79317)),o=s(91409),r=s(5757),c=s(6435),l=s(70794),h=s(89600),k=s(69790),d=s(26234),u=s(23537),w=s(92266),m=s(69986),p=s(10359),b=s(37426),f={name:"TokenOverview",components:{ActivityBox:r.Z,AssetActionRow:c.Z,PriceOverview:h.Z,SwitchingTab:d.Z,SwitchingTabs:u.Z,TokenIcon:w.Z,TopBar:m.Z},data(){return{balance:0,contract:null,fiatBalance:0,loading:!1,name:"",token:null}},computed:{address(){return this.$route.query.address.toLowerCase()},chain(){if(this.$route.query.chain)return JSON.parse(this.$route.query.chain)},symbol(){return this.$route.query.symbol},tokenPriceInfo(){if(this.token)return this.$store.getters.getPriceInfoForToken(this.token)},transactions(){return this.$store.getters.transactionsForToken(this.address,this.type)},type(){if(this.token)return this.token.type??this.token.contract?.type},watchlistIcon(){const t=this.$store.getters.isTokenOnWatchList(this.watchlistToken);return(0,o.hp)(t)},watchlistToken(){const t={address:this.address,chain:this.chain,name:this.name,symbol:this.symbol};return this.$store.getters.watchlistToken(t)}},watch:{token(t){t&&this.assignTokenData()}},created(){this.getToken()},methods:{assignTokenData(){if(this.name=this.token.name??this.token.contract?.name,this.contract=this.token.address??this.token.contract?.contract,this.token&&this.token.balance&&(this.tokenPriceInfo&&(this.fiatBalance=p.Z.localizeCurrency(b.Z.tokenDecimal(this.token).multipliedBy(new l.Z(this.tokenPriceInfo.price)))),this.token.balance)){const t=this.token.decimals??this.token.contract.decimals;this.balance=b.Z.withDecimals(this.token.balance,t)}},getToken(){if(!this.address||!this.chain)return;const{allSupportedTokens:t}=this.$store.getters;this.token=this.$store.getters.getToken(this.address,this.chain,t(a.oZ.ALL))},goToBuy(){k.Z.sendStatsEvent(k.Z.types.CLICK,"wt_coin_buy_bottom"),this.$router.push({name:"Buy",params:{token:this.token}})},goToSell(){this.$router.push({name:"Sell",params:{token:this.token}})},tabSelected(t){const[e,s]=[this.$store.getters.getNetworkName(this.chain),this.symbol];switch(t){case 0:k.Z.sendStatsEvent(k.Z.types.CLICK,"wt_coin_overTab",{coin:s,network:e});break;case 1:k.Z.sendStatsEvent(k.Z.types.CLICK,"wt_coin_actTab",{coin:s,network:e});break}},toggleTokenOnWatchList(){this.$store.dispatch("toggleTokenOnWatchList",this.watchlistToken)}}},v=f,y=s(1001),g=(0,y.Z)(v,n,i,!1,null,null,null),T=g.exports}}]);