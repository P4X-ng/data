"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[8804],{98933:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"add-token-view flex flex-col px-14"},[t("top-bar",{staticClass:"-mx-14",attrs:{title:e.$t("views.networksView.addToken")}}),t("div",{staticClass:"before:absolute before:bg-status-warning before:block before:h-full before:left-0 before:opacity-15 before:rounded-lg before:top-0 before:w-full mb-8 mt-9 p-4 relative text-status-warning text-xs"},[e._v(" "+e._s(e.$t("views.networksView.addTokenWarning"))+" ")]),t("token-form",{staticClass:"flex-grow",on:{tokenFormCancelled:e.createTokenCancelled,tokenFormConfirmed:e.createToken}}),t("multi-purpose-popup",{ref:"newTokenPopup"})],1)},n=[],s=o(79317),i=o(42514),a=o(39709),p=o(69986),c=o(20144),l=o(25108),u=c.ZP.extend({name:"AddToken",components:{MultiPurposePopup:i.Z,TokenForm:a.Z,TopBar:p.Z},data(){return{token:null}},computed:{newTokenPopup(){return this.$refs.newTokenPopup}},methods:{back(){this.$router.back()},async createToken(e){const t=this.newTokenPopup;t.show({description:this.$t("components.popovers.savingChanges"),popupType:"loader"}),await this.$store.dispatch("addCustomToken",e).then((o=>{if(!o)return Promise.reject(new Error("Unknown error"));{const o=this.$t("general.token");t.show({description:this.$t("views.networksView.successfullyAddedPopupDescription",{type:o}),popupType:"success",title:this.$t("views.networksView.successfullyAddedPopupTitle",{type:o})}),t.$once("popupConfirmed",this.back),this.$store.dispatch("getTokensForChain",{chain:e.chain,type:s.iv.NATIVE})}})).catch((o=>{l.error(`Error during custom token ${e.name} create`,o),this.$errorReporter.reportError(o,{extraData:{tokenAddress:e.contract,tokenName:e.name}}),t.show({description:this.$t("errors.generic.somethingWentWrong"),popupType:"error"})}))},createTokenCancelled(){this.back()}}}),d=u,k=o(1001),f=(0,k.Z)(d,r,n,!1,null,null,null),h=f.exports}}]);