# PacketFS Just Orchestrator
# Single-target wrappers for Makefile.turbo

# No-op setup placeholder for future dependencies
setup:
    @echo "âœ… PacketFS setup complete (no dependencies required yet)"

# Build optimized PacketFS core
build:
    cd src && make -f Makefile.turbo demo

# Run insane stress test
test-insane:
    cd src && make -f Makefile.turbo insane

# Clean all build artifacts
clean:
    cd src && make -f Makefile.turbo clean

# Build demo_enhanced with turbo flags
build-demo-enhanced:
    gcc -std=c99 -Wall -Wextra -O3 -march=native -mtune=native -ffast-math -funroll-loops -fomit-frame-pointer -flto -fwhole-program -DNDEBUG -fopenmp -mavx2 -mfma -msse4.2 -mpopcnt -ftree-vectorize -falign-functions=64 -falign-loops=64 -falign-jumps=64 -falign-labels=64 -fprefetch-loop-arrays -o demo_enhanced src/demo_enhanced.c -pthread -lm -lrt

# Run demo with 0GB (expected failure)
run-demo-0:
    ./demo_enhanced 0 50

# Run demo with 1GB (expected success)
run-demo-valid:
    ./demo_enhanced 1 50
